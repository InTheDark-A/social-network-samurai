{"version":3,"sources":["components/Common/FormsControls/FormControls.module.css","components/Common/FormsControls/FormsControls.js","utils/validators/validators.js","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/Profile.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatus.js","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","assets/images/back_profile.jpg","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","FormControl","input","meta","props","element","hasError","touched","error","className","styles","formControl","children","Textarea","restProps","Input","required","value","maxLengthCreator","maxLength","length","ProfileStatus","state","editMode","status","activateEditMode","setState","deactivateEditMode","updateStatus","onStatusChange","e","currentTarget","prevProps","prevState","snapshot","this","s","statusA","onClick","bind","onChange","type","autoFocus","onBlur","React","Component","ProfileInfo","profile","console","log","descriptionBlock","src","photos","small","aboutMe","Preloader","Post","item","alt","message","likesCount","maxLength15","MyPosts","memo","postsElements","postsData","map","el","id","postsBlock","AddPostReduxForm","onSumbit","values","addPost","post","posts","reduxForm","form","onSubmit","handleSubmit","Field","component","name","placeholder","validate","PostsContainer","connect","profilePage","addPostActionCreator","Profile","wrapper","body","background","Background","ProfileContainer","userId","match","params","isAuth","authorizedUserId","history","push","getUserProfile","getUserStatus","to","compose","auth","updateUserStatus","withRouter"],"mappings":"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","file":"static/js/4.0ed22bcc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form-control\":\"FormControls_form-control__3LzEh\",\"formControl\":\"FormControls_formControl__3_THR\",\"error\":\"FormControls_error__15mi5\",\"formSummaryError\":\"FormControls_formSummaryError__2zZr7\"};","import React from \"react\";\r\nimport styles from \"./FormControls.module.css\";\r\nimport {Field} from \"redux-form\";\r\n\r\nexport const FormControl = ({input, meta, element, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n        <div>\r\n            {props.children}\r\n        </div>\r\n        {hasError && <span><b>{meta.error}</b></span>}\r\n    </div>\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n};\r\n\r\nexport const CreateField = (placeHolder, name, validators, component) =>\r\n    <Field placeholder={placeHolder} name={name} component={component} validate={validators}/>","export const required = value => {\r\n    if (value) return undefined;\r\n    return \"Field is required\";\r\n};\r\n\r\nexport const maxLengthCreator = (maxLength) => value => {\r\n    if (value && value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ProfileInfo_wrapper__3ZNgn\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3-5_P\",\"status\":\"ProfileInfo_status__3X1wy\",\"statusA\":\"ProfileInfo_statusA__1o1oH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Profile_wrapper__1InWB\",\"body\":\"Profile_body__1pN5T\",\"background\":\"Profile_background__vnSnR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__3w1ZZ\",\"posts\":\"MyPosts_posts__DZz81\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2X_zq\"};","import React from \"react\";\r\nimport s from './ProfileInfo.module.css';\r\n\r\nclass ProfileStatus extends React.Component {\r\n    state = {\r\n        editMode: false,\r\n        status: this.props.status\r\n    };\r\n\r\n    activateEditMode = () => {\r\n        this.setState({\r\n            editMode: true\r\n        })\r\n    }\r\n\r\n    deactivateEditMode = () => {\r\n        this.setState({\r\n            editMode: false\r\n        })\r\n        this.props.updateStatus(this.state.status);\r\n    }\r\n\r\n    onStatusChange = (e) => {\r\n        this.setState({status: e.currentTarget.value});\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.status !== this.props.status) {\r\n            this.setState({\r\n                status: this.props.status\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {!this.state.editMode &&\r\n                <div>\r\n                    <span className={s.statusA} onClick={this.activateEditMode.bind(this)}>{this.props.status || \"------\"}</span>\r\n                </div>\r\n                }\r\n                {this.state.editMode &&\r\n                <div>\r\n                    <input onChange={this.onStatusChange} type={\"text\"} autoFocus={true}\r\n                           onBlur={this.deactivateEditMode.bind(this)}\r\n                           value={this.state.status}/>\r\n                </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ProfileStatus;","import React from 'react';\r\nimport s from './ProfileInfo.module.css';\r\nimport Preloader from \"../../Common/Preloader/Preloader\";\r\nimport ProfileStatus from \"./ProfileStatus\";\r\n\r\n\r\nconst ProfileInfo = (props) => {\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    console.log(props);\r\n    return <div>\r\n        <div className={s.descriptionBlock}>\r\n            <img src={props.profile.photos.small}/>\r\n            <div className={s.status}>\r\n                <p>Статус: {props.profile.aboutMe}</p>\r\n                <ProfileStatus status={props.status} updateStatus={props.updateStatus}/>\r\n            </div>\r\n        </div>\r\n    </div>\r\n};\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport s from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n    return <div className={s.item}>\r\n        <img src={\"https://yt3.ggpht.com/ytc/AAUvwnhAqEAF26--bgeyaisBjBaDBiTBW1BaUsuUOYFRQA=s900-c-k-c0x00ffffff-no-rj\"}\r\n             alt={\"avatar\"}/>\r\n        {props.message}\r\n        <div>\r\n            <span>{props.likesCount} likes</span>\r\n        </div>\r\n    </div>;\r\n};\r\n\r\nexport default Post;","import React from 'react';\r\nimport s from './MyPosts.module.css';\r\nimport Post from \"./Post/Post\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\r\nimport {Textarea} from \"../../Common/FormsControls/FormsControls\";\r\n\r\nconst maxLength15 = maxLengthCreator(15);\r\nconst MyPosts = React.memo((props) => {\r\n    let postsElements = props.postsData.map(el => <Post message={el.message} likesCount={el.likesCount}\r\n                                                                    key={el.id}/>);\r\n    let onAddPost = (values) => {\r\n        props.addPost(values.post);\r\n        values.post = \"\";\r\n    };\r\n\r\n    return <div className={s.postsBlock}>\r\n        My posts\r\n        <AddPostReduxForm onSumbit={onAddPost}/>\r\n        <div className={s.posts}>\r\n            {postsElements}\r\n        </div>\r\n    </div>\r\n});\r\n\r\nconst AddPostForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit(props.onSumbit)}>\r\n            <div>\r\n                <Field component={Textarea} name={\"post\"} placeholder={\"Напишите текст поста\"}\r\n                       validate={[required, maxLength15]}/>\r\n            </div>\r\n            <div>\r\n                <button>Add post</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nlet AddPostReduxForm = reduxForm({\r\n    form: \"profileAddPost\"\r\n})(AddPostForm);\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport {addPostActionCreator} from \"../../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        postsData: state.profilePage.postsData\r\n    };\r\n};\r\n\r\n\r\nconst PostsContainer = connect(mapStateToProps, {\r\n    addPost: addPostActionCreator\r\n})(MyPosts);\r\n\r\nexport default PostsContainer;","export default __webpack_public_path__ + \"static/media/back_profile.c8bda5dd.jpg\";","import React from 'react';\r\nimport s from './Profile.module.css';\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport PostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport Background from \"./../../assets/images/back_profile.jpg\"\r\n\r\nconst Profile = (props) => {\r\n    return <div className={s.wrapper}>\r\n        <div className={s.body}>\r\n            <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n            <div className={s.background}>\r\n                <img src={Background} alt={\"back\"}/>\r\n            </div>\r\n        </div>\r\n        <PostsContainer/>\r\n    </div>\r\n};\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getUserProfile, getUserStatus, updateUserStatus} from \"../../redux/profile-reducer\";\r\nimport {Redirect, withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            if (this.props.isAuth)\r\n                userId = this.props.authorizedUserId;\r\n            else\r\n                this.props.history.push(\"/login\");\r\n        }\r\n\r\n        this.props.getUserProfile(userId);\r\n        this.props.getUserStatus(userId);\r\n    }\r\n\r\n    render() {\r\n        if (this.props.isAuth === false) {\r\n            return <Redirect to={\"/login\"}/>\r\n        }\r\n\r\n        console.log(this.props);\r\n        return <Profile {...this.props} profile={this.props.profile} status={this.props.status}\r\n                        updateStatus={this.props.updateStatus}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile, status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId, isAuth: state.auth.isAuth\r\n});\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getUserProfile, getUserStatus, updateStatus: updateUserStatus}),\r\n    withRouter,\r\n    //withAuthRedirectComponent\r\n)\r\n(ProfileContainer);\r\n"],"sourceRoot":""}
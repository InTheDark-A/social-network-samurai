{"version":3,"sources":["components/Permanent components/Navbar/Navbar.module.css","api/api.js","reportWebVitals.js","components/Permanent components/Navbar/Navbar.jsx","utils/object-helper.js","redux/users-reducer.js","components/Common/Paginator/Paginator.jsx","assets/images/sobaka.jpeg","components/Users/User.jsx","components/Users/Users.jsx","hoc/WithAuthRedirect.js","redux/users-selector.js","components/Users/UsersContainer.jsx","assets/images/logo_dark.jpg","components/Permanent components/Header/Header.jsx","components/Permanent components/Header/HeaderContainer.jsx","redux/app-reducer.js","redux/redux-store.js","hoc/WithSuspense.js","App.js","index.js","redux/auth-reducer.js","assets/gifs/loading_bonfire.gif","components/Common/Preloader/Preloader.js","components/Common/Paginator/Paginator.module.css","components/Permanent components/Header/Header.module.css","redux/profile-reducer.js","redux/dialogs-reducer.js","components/Users/Users.module.css","components/Common/Preloader/Preloader.module.css"],"names":["module","exports","baseUrl","instance","axios","create","withCredentials","baseURL","headers","usersApi","getUsers","currentPage","pageSize","get","then","response","data","follow","id","post","unfollow","delete","getProfile","console","warn","profileApi","getStatus","updateStatus","status","put","b","authApi","me","login","email","password","rememberMe","logout","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","className","s","nav","item","to","activeClassName","activeLink","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_COUNT_USERS","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","initialState","users","totalUsersCount","isFetching","followingInProgress","followAC","userId","type","unfollowAC","setCurrentPage","setIsFetching","toogleIsFollowingProgress","followUnFollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","state","action","followed","count","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","wrapper","paginator","onClick","p","selectedPage","e","User","user","photoAvatar","src","photos","small","userPhoto","disabled","some","name","Users","props","mapStateToPropsToRedirect","isAuth","auth","getUsersFromState","usersPage","getPageSize","createSelector","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersAPIComponent","pageNumber","this","Preloader","React","Component","compose","connect","page","totalCount","bind","RedirectComponent","Header","header","logo","alt","loginBlock","HeaderContainer","INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","profilePage","profileReducer","dialogsData","dialogsReducer","authReducer","app","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","withSuspenseComponent","fallback","DialogsContainer","lazy","ProfileContainer","Login","App","initializeApp","exact","path","render","UsersContainer","AppContainer","withRouter","getAuthUserData","SamuraiJSApp","ReactDOM","document","getElementById","SET_USER_DATA","setAuthUserData","message","messages","length","stopSubmit","_error","preloader","height","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","postsData","likesCount","profile","addPostActionCreator","text","getUserProfile","getUserStatus","updateUserStatus","log","newPost","SEND_MESSAGE","dialogs","sendMessageCreator","body","newMessageBody"],"mappings":"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","file":"static/js/main.2e9e4d72.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3O-dh\",\"item\":\"Navbar_item__MBVzb\",\"activeLink\":\"Navbar_activeLink__3_7Z-\"};","import axios from \"axios\";\r\n\r\nconst baseUrl = \"https://social-network.samuraijs.com/api/1.0\";\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0\",\r\n    headers:{\r\n        \"API-KEY\":\"d4e93273-03df-419f-973b-d99ec7800c27\"\r\n    }\r\n});\r\n\r\nexport const usersApi = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(baseUrl + `/users?page=${currentPage}&count=${pageSize}`\r\n        ).then(response => {\r\n            return {data: response.data};\r\n        });\r\n    },\r\n\r\n    follow(id = 0) {\r\n        return instance.post(`/follow/${id}`).then(response => {\r\n            return response;\r\n        });\r\n    },\r\n\r\n    unfollow(id = 0) {\r\n        debugger;\r\n        return instance.delete(`/follow/${id}`).then(response => {\r\n            return response;\r\n        });\r\n    },\r\n\r\n    async getProfile(id) {\r\n        console.warn(\"Obsolete method. Please use profileApi object.\");\r\n        return await profileApi.getProfile(id);\r\n    }\r\n};\r\n\r\nexport const profileApi = {\r\n    async getProfile(id) {\r\n        return await instance.get(`/profile/${id}`)\r\n    },\r\n    async getStatus(id) {\r\n        return await instance.get(`/profile/status/${id}`)\r\n    },\r\n    async updateStatus(status) {\r\n        let b = await instance.put('/profile/status', {status: status});\r\n        return b;\r\n    }\r\n}\r\n\r\n\r\nexport const authApi = {\r\n    async me() {\r\n        return await instance.get('/auth/me')\r\n    },\r\n    async login(email, password, rememberMe = false) {\r\n        return await instance.post('/auth/login', {email, password, rememberMe});\r\n    },\r\n    async logout() {\r\n        return await instance.delete('/auth/login');\r\n    }\r\n};\r\n\r\n\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n    return <nav className={s.nav}>\r\n        <div className={s.item}>\r\n            <NavLink to={\"/profile\"} activeClassName ={s.activeLink}>Profile</NavLink>\r\n        </div>\r\n        <div className={`${s.item} ${s.activeLink}`}>\r\n            <NavLink to={\"/dialogs\"} activeClassName ={s.activeLink}>Messages</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to={\"/news\"} activeClassName ={s.activeLink}>News</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to={\"/music\"} activeClassName ={s.activeLink}>Music</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to={\"/settings\"} activeClassName ={s.activeLink}>Settings</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to={\"/users\"} activeClassName ={s.activeLink}>Users</NavLink>\r\n        </div>\r\n    </nav>\r\n};\r\n\r\nexport default Navbar;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId)\r\n            return {...u, ...newObjProps}\r\n        return u;\r\n    });\r\n}","import {usersApi} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/object-helper\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET-USERS';\r\nconst SET_CURRENT_PAGE = \"SET-CURRENT-PAGE\";\r\nconst SET_TOTAL_COUNT_USERS = \"SET-TOTAL-COUNT-USERS\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE-IS-FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE-IS-FOLLOWING-PROGRESS\";\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: [2, 3]\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    let stateCopy;\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            stateCopy = {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true}),\r\n                // users: state.users.map(el => {\r\n                //     if (el.id === action.userId)\r\n                //         return {...el, followed: true};\r\n                //     return el;\r\n                // })\r\n            };\r\n            return stateCopy;\r\n        case UNFOLLOW:\r\n            stateCopy = {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false}),\r\n            };\r\n            return stateCopy;\r\n        case SET_USERS:\r\n            return {...state, users: [...action.users]};\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage}\r\n        case SET_TOTAL_COUNT_USERS:\r\n            return {...state, totalUsersCount: action.count};\r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching};\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n\r\n            return {\r\n                ...state, followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followAC = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowAC = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalCountUsers = (totalCount) => ({type: SET_TOTAL_COUNT_USERS, count: totalCount});\r\nexport const setIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching: isFetching});\r\nexport const toogleIsFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching: isFetching,\r\n    userId\r\n});\r\n\r\n\r\nexport const getUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(setIsFetching(true));\r\n\r\n        let response = await usersApi.getUsers(page, pageSize);\r\n\r\n        dispatch(setCurrentPage(page));\r\n        dispatch(setIsFetching(false));\r\n        dispatch(setTotalCountUsers(response.data.totalCount));\r\n        dispatch(setUsers(response.data.items))\r\n\r\n    }\r\n};\r\n\r\nconst followUnFollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toogleIsFollowingProgress(true, userId));\r\n\r\n    let response = await apiMethod(userId);\r\n    dispatch(toogleIsFollowingProgress(false, userId));\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n}\r\n\r\nexport const follow = (userId) => {\r\n\r\n    return async (dispatch) => {\r\n        followUnFollowFlow(dispatch, userId, usersApi.follow.bind(usersApi), followAC);\r\n    }\r\n};\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnFollowFlow(dispatch, userId, usersApi.unfollow.bind(usersApi), unfollowAC);\r\n    }\r\n};\r\n\r\nexport default usersReducer;\r\n","import React, {useState} from 'react';\r\nimport styles from './Paginator.module.css'\r\n\r\nlet Paginator = ({currentPage, totalItemsCount, pageSize, onPageChanged, portionSize = 10}) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    //pages.push(pagesCount - 1);\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <div className={styles.paginator}>\r\n                {portionNumber > 1 &&\r\n                <button onClick={() => {\r\n                    setPortionNumber(portionNumber - 1)\r\n                }}>Назад</button>}\r\n                {pages\r\n                    .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                    .map((p) => {\r\n                        return <span className={currentPage === p ? styles.selectedPage : \"\"}\r\n                                     key={p}\r\n                                     onClick={(e) => {\r\n                                         onPageChanged(p);\r\n                                     }}>{p}</span>\r\n                    })}\r\n                {portionCount > portionNumber &&\r\n                <button onClick={() => {\r\n                    setPortionNumber(portionNumber + 1)\r\n                }}>Вперёд</button>}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default Paginator;\r\n","export default __webpack_public_path__ + \"static/media/sobaka.dd56341a.jpeg\";","import React from 'react';\r\nimport styles from './Users.module.css'\r\nimport userPhoto from '../../assets/images/sobaka.jpeg'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet User = ({user, followingInProgress, unfollow, follow, ...props}) => {\r\n    return (\r\n        <div>\r\n            <div>\r\n                <NavLink to={'/profile/' + user.id}>\r\n                    <img className={styles.photoAvatar} src={user.photos.small || userPhoto}/>\r\n                </NavLink>\r\n            </div>\r\n            <div>\r\n                {\r\n                    user.followed ?\r\n                        <button disabled={followingInProgress.some(id => id === user.id)}\r\n                                onClick={() => {\r\n                                    unfollow(user.id)\r\n                                }}>Unfollow</button>\r\n\r\n                        : <button disabled={followingInProgress.some(id => id === user.id)}\r\n                                  onClick={() => {\r\n                                      follow(user.id);\r\n                                  }}>Follow</button>\r\n                }\r\n            </div>\r\n            <span>\r\n                <span>\r\n                    <div>{user.name}</div>\r\n                    <div>{user.status}</div>\r\n                </span>\r\n                <span>\r\n                    <div>{\"u.location.city\"}</div>\r\n                    <div>{\"u.location.country\"}</div>\r\n                </span>\r\n            </span>\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\n\r\nexport default User;\r\n","import React from 'react';\r\nimport Paginator from \"../Common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = ({currentPage, totalUsersCount, pageSize, onPageChanged,  ...props}) => {\r\n    return (\r\n        <div>\r\n            <Paginator currentPage={currentPage} totalItemsCount={totalUsersCount}\r\n                       pageSize={pageSize} onPageChanged={onPageChanged}/>\r\n            <div>\r\n                {\r\n                    props.users ?\r\n                    props.users.map(u => <User key={u.id} user={u} followingInProgress={props.followingInProgress}\r\n                                                unfollow={props.unfollow} follow={props.follow} />)\r\n                        :null\r\n                }\r\n            </div>\r\n            <Paginator currentPage={currentPage} totalItemsCount={totalUsersCount}\r\n                       pageSize={pageSize} onPageChanged={onPageChanged}/>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default Users;\r\n","import {Redirect} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsToRedirect = (state) => ({isAuth: state.auth.isAuth});\r\nexport const withAuthRedirectComponent = (Component) => {\r\n    class RedirectComponent extends React.Component{\r\n        render() {\r\n            if (this.props.isAuth === false) return <Redirect to={\"/login\"} />\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n\r\n    return connect(mapStateToPropsToRedirect)(RedirectComponent);\r\n}","import {createSelector} from \"reselect\";\r\n\r\n\r\nexport const getUsersFromState = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getUsersSelector = (state) => {\r\n    return getUsersFromState().users.filter(u => true);\r\n}\r\n\r\nexport const getUsersSuperSelector = createSelector(getUsersFromState, (users) => {\r\n    return users.filter(u => true);\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\n\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow,\r\n    getUsers,\r\n    setCurrentPage, toogleIsFollowingProgress, unfollow,\r\n} from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../Common/Preloader/Preloader\";\r\nimport {withAuthRedirectComponent} from \"../../hoc/WithAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage, getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsersFromState\r\n} from \"../../redux/users-selector\";\r\n\r\n\r\nclass UsersAPIComponent extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        this.props.getUsers(pageNumber, this.props.pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/>\r\n                :\r\n                <Users totalUsersCount={this.props.totalUsersCount}\r\n                       pageSize={this.props.pageSize}\r\n                       currentPage={this.props.currentPage}\r\n                       users={this.props.users}\r\n                       onPageChanged={this.onPageChanged}\r\n                       isFetching={this.props.isFetching}\r\n                       toogleIsFollowingProgress={this.props.toogleIsFollowingProgress}\r\n                       followingInProgress={this.props.followingInProgress}\r\n                       follow={this.props.follow}\r\n                       unfollow={this.props.unfollow}\r\n                />}\r\n\r\n        </>;\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsersFromState(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    };\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        setCurrentPage,\r\n        toogleIsFollowingProgress,\r\n        getUsers,\r\n        follow,\r\n        unfollow\r\n    }),\r\n    withAuthRedirectComponent\r\n)(UsersAPIComponent)","export default __webpack_public_path__ + \"static/media/logo_dark.475557a2.jpg\";","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport logo from \"../../../assets/images/logo_dark.jpg\"\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return <header className={s.header}>\r\n        <div>\r\n            <img src={logo} alt={\"logo\"}/>\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth ? <div>{props.login}\r\n                        <button onClick={props.logout}>Log out</button>\r\n                    </div> :\r\n                    <NavLink to={'/Login'}>Login</NavLink>\r\n                }\r\n                https://social-network.samuraijs.com/api/1.0\r\n            </div>\r\n        </div>\r\n    </header>\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n});\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED-SUCCESS'\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    promise.then(() => dispatch(initializedSuccess()));\r\n};\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from \"redux-form\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsData: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    form: formReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers,composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;","import React, {Suspense} from \"react\";\r\nimport Preloader from \"../components/Common/Preloader/Preloader\";\r\n\r\nexport const withSuspenseComponent = (Component) => {\r\n    return (props) => {\r\n        return <Suspense fallback={<Preloader/>}><Component {...props}/></Suspense>;\r\n    }\r\n}","import './App.css';\nimport Navbar from \"./components/Permanent components/Navbar/Navbar\";\nimport {BrowserRouter, Route, withRouter} from \"react-router-dom\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Permanent components/Header/HeaderContainer\";\nimport React, {Component, Suspense} from \"react\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport Preloader from \"./components/Common/Preloader/Preloader\";\nimport store from \"./redux/redux-store\";\n//import SuperDialogsContainer from \"./components/Dialogs/DialogsContainer\";\n//import ProfileContainer from \"./components/Profile/ProfileContainer\";\n//import Login from \"./components/Login/Login\";\nimport {withSuspenseComponent} from \"./hoc/WithSuspense\";\n\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\"));\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"));\nconst Login = React.lazy(() => import(\"./components/Login/Login\"));\n\nclass App extends Component {\n    componentDidMount() {\n        this.props.initializeApp();\n    }\n\n    render() {\n        if (!this.props.initialized)\n            return <Preloader/>\n\n        return (\n            <div className={\"app-wrapper\"}>\n                <HeaderContainer/>\n                <Navbar/>\n                <div className={\"app-wrapper-content\"}>\n                    <Route exact path={\"/dialogs\"} render={withSuspenseComponent(DialogsContainer)}/>\n                    <Route path={\"/profile/:userId?\"} render={withSuspenseComponent(ProfileContainer)}/>\n                    <Route path={\"/users\"} render={() => <UsersContainer/>}/>\n                    <Route path={\"/Login\"} render={withSuspenseComponent(Login)}/>\n                </div>\n            </div>);\n    }\n}\n\nlet mapStateToProps = (state) => ({\n    initialized: state.app.initialized,\n});\n\nconst AppContainer = compose(\n    withRouter,\n    connect(mapStateToProps, {initializeApp}))(App);\n\nconst SamuraiJSApp = (props) => (\n    <BrowserRouter>\n        <Provider store={store}>\n            <AppContainer/>\n        </Provider>\n    </BrowserRouter>\n);\n\nexport default SamuraiJSApp;","import React from 'react';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport ReactDOM from \"react-dom\";\nimport SamuraiJSApp from \"./App\";\n\nReactDOM.render(<SamuraiJSApp/>, document.getElementById('root'));\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import {authApi} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'samurai-network/auth/SET-USER-DATA'\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n\r\n\r\n}\r\n\r\nconst setAuthUserData = (userId, email, login, isAuth) => ({type: SET_USER_DATA, data: {userId, email, login, isAuth}});\r\n\r\nexport const getAuthUserData = () => {\r\n    return async (dispatch) => {\r\n        let response = await authApi.me();\r\n        if (response.data.resultCode === 0) {\r\n            let {id, login, email} = response.data.data;\r\n            dispatch(setAuthUserData(id, email, login, true));\r\n        }\r\n    }\r\n};\r\n\r\nexport const login = (email, password, rememberMe) => {\r\n    return async (dispatch) => {\r\n        let response = await authApi.login(email, password, rememberMe);\r\n        if (response.data.resultCode === 0) {\r\n            let {id, login, email} = response.data.data;\r\n            dispatch(getAuthUserData(id, email, login));\r\n        } else {\r\n            let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n            dispatch(stopSubmit(\"login\", {_error: message}));\r\n        }\r\n    }\r\n}\r\n\r\nexport const logout = () => {\r\n    return async (dispatch) => {\r\n        let response = await authApi.logout();\r\n\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setAuthUserData(null, null, null, false));\r\n        }\r\n    }\r\n}\r\n\r\nexport default authReducer;","export default __webpack_public_path__ + \"static/media/loading_bonfire.cd616a01.gif\";","import preloader from \"../../../assets/gifs/loading_bonfire.gif\";\r\nimport React from \"react\";\r\nimport s from \"./Preloader.module.css\";\r\n\r\nlet Preloader = (props) => {\r\n    return <div className={s.wrapper}>\r\n        <h1>Загрузка</h1>\r\n        <img src={preloader} height={300}/>\r\n    </div>\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__30ybl\",\"paginator\":\"Paginator_paginator__25gfm\",\"wrapper\":\"Paginator_wrapper__39Bml\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2TLKv\",\"loginBlock\":\"Header_loginBlock__3U-gS\"};","import {profileApi} from \"../api/api\";\r\n\r\nconst ADD_POST = 'samurai-network/profile/ADD-POST';\r\nconst SET_USER_PROFILE = \"samurai-network/profile/SET-USER-PROFILE\";\r\nconst SET_STATUS = \"SET-STATUS\";\r\nconst DELETE_POST = \"DELETE-POST\";\r\n\r\nlet initialState = {\r\n    postsData: [\r\n        {id: 0, message: \"Hi, how are you?\", likesCount: 1},\r\n        {id: 1, message: \"It's my first post\", likesCount: 5},\r\n        {id: 2, message: \"kek\", likesCount: 4},\r\n        {id: 3, message: \"meme\", likesCount: 999}\r\n    ],\r\n    profile: null,\r\n    status: \"\"\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    let stateCopy;\r\n\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            debugger;\r\n            let newPost = {id: 5, message: action.text, likesCount: 0};\r\n            stateCopy = {\r\n                ...state,\r\n                postsData: [...state.postsData, newPost],\r\n            };\r\n            return stateCopy;\r\n\r\n        case SET_USER_PROFILE:\r\n            return {...state, profile: action.profile}\r\n        case SET_STATUS:\r\n            return {...state, status: action.status};\r\n        case DELETE_POST:\r\n            return {...state, postsData: state.postsData.filter(p => p.id !== action.id)};\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (text) => {\r\n    return {\r\n        type: ADD_POST,\r\n        text: text\r\n    }\r\n};\r\n\r\n\r\nconst setUserProfile = (profile) => {\r\n    return {type: SET_USER_PROFILE, profile};\r\n};\r\nconst setUserStatus = (status) => {\r\n    return {type: SET_STATUS, status};\r\n};\r\nexport const deletePost = (postId) => {\r\n    return {type: DELETE_POST, id: postId};\r\n};\r\n\r\n\r\n//thunc\r\n\r\nexport const getUserProfile = (userId) => {\r\n    return (dispatch) => {\r\n        profileApi.getProfile(userId)\r\n            .then(response => {\r\n                dispatch(setUserProfile(response.data));\r\n            });\r\n    }\r\n};\r\n\r\nexport const getUserStatus = (userId) => {\r\n    return async (dispatch) => {\r\n        let response = await profileApi.getStatus(userId);\r\n\r\n        dispatch(setUserStatus(response.data));\r\n    }\r\n};\r\n\r\nexport const updateUserStatus = (status) => {\r\n    return async (dispatch) => {\r\n        let response = profileApi.updateStatus(status);\r\n        console.log(response);\r\n        // if (response.data.resultCode === 0)\r\n        //     dispatch(setUserStatus(response));\r\n    }\r\n};\r\n\r\n\r\nexport default profileReducer;","const SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: \"Vanya\"},\r\n        {id: 2, name: \"Sukarab\"},\r\n        {id: 3, name: \"SerGey\"},\r\n        {id: 4, name: \"Lena\"}\r\n    ],\r\n    messages: [\r\n        {id: 0, message: \"Hi\"},\r\n        {id: 1, message: \"How is your it-kamasutra?\",},\r\n        {id: 2, message: \"Yo\",},\r\n        {id: 3, message: \"Все мысли только о тебе\",},\r\n        {id: 4, message: \"Терзаешь мою душу\",},\r\n        {id: 5, message: \"Yo\",},\r\n        {id: 6, message: \"Беды с башкой :(\",}\r\n    ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    let stateCopy;\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            stateCopy = {\r\n                ...state,\r\n                newMessageBody: \"\",\r\n                messages: [...state.messages, {id: 6, message: action.body}]\r\n            };\r\n            return stateCopy;\r\n        default:\r\n            return state;\r\n    }\r\n\r\n\r\n}\r\n\r\nexport const sendMessageCreator = (body) => ({type: SEND_MESSAGE, body: body});\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoAvatar\":\"Users_photoAvatar__3P_0e\",\"selectedPage\":\"Users_selectedPage__1wAqN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Preloader_wrapper__2xNqr\"};"],"sourceRoot":""}